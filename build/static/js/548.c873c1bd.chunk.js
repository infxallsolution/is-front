"use strict";(self.webpackChunkemilus=self.webpackChunkemilus||[]).push([[548],{27550:function(e,t,n){var r,c=n(30168),u=n(52554),a=n(32323),s=n(52672),i=n(6443),o=(n(72791),n(80184));t.Z=function(e){var t=e.title,n=e.items;return(0,o.jsxs)("div",{css:(0,u.iv)(r||(r=(0,c.Z)(["\n        align-items: center;\n        margin-bottom: 1rem;\n\n        @media "," {\n          display: flex;\n        }\n      "])),i.qk.LAPTOP_ABOVE),children:[(0,o.jsx)("h3",{className:"mb-0 mr-3 font-weight-semibold",children:(0,o.jsx)(s.Z,{id:t})}),(0,o.jsx)(a.Z,{items:n})]})}},52672:function(e,t,n){n(72791);var r=n(33168),c=n(80184);t.Z=function(e){var t=e.id,n=e.fallback,u=(0,(0,r.$)().t)(t,n);return(0,c.jsx)(c.Fragment,{children:u})}},59343:function(e,t,n){n.d(t,{z:function(){return c}});var r=n(27019),c=function(){var e=localStorage.getItem(r.U);return e?{Authorization:"Bearer ".concat(e),"Content-type":"application/json"}:{}}},82663:function(e,t,n){var r=n(74165),c=n(15861),u=n(32659),a=n(59343),s=u.O.API_ENDPOINT_URL,i={getAllClients:function(){var e=(0,c.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(s,"/client/list"),{headers:(0,a.z)()});case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getClient:function(){var e=(0,c.Z)((0,r.Z)().mark((function e(t){var n,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(s,"/client/get/").concat(t),{headers:(0,a.z)()});case 2:return n=e.sent,e.next=5,n.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),insertClient:function(){var e=(0,c.Z)((0,r.Z)().mark((function e(t){var n,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(s,"/client/insert"),{method:"POST",headers:(0,a.z)(),body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,n.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateClient:function(){var e=(0,c.Z)((0,r.Z)().mark((function e(t,n){var c,u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(s,"/client/update/").concat(n),{method:"PUT",headers:(0,a.z)(),body:JSON.stringify(t)});case 2:return c=e.sent,e.next=5,c.json();case 5:return u=e.sent,e.abrupt("return",u);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),enableClient:function(){var e=(0,c.Z)((0,r.Z)().mark((function e(t){var n,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(s,"/client/enableClient/").concat(t),{method:"PUT",headers:(0,a.z)()});case 2:return n=e.sent,e.next=5,n.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),disableClient:function(){var e=(0,c.Z)((0,r.Z)().mark((function e(t){var n,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(s,"/client/disableclient/").concat(t),{method:"DELETE",headers:(0,a.z)()});case 2:return n=e.sent,e.next=5,n.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.Z=i},70084:function(e,t,n){var r=n(74165),c=n(15861),u=n(32659),a=n(59343),s=u.O.API_ENDPOINT_URL,i={getAllModules:function(){var e=(0,c.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(s,"/module/list"),{headers:(0,a.z)()});case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getModule:function(){var e=(0,c.Z)((0,r.Z)().mark((function e(t){var n,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(s,"/module/get/").concat(t),{method:"get",headers:(0,a.z)()});case 2:return n=e.sent,e.next=5,n.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getModuleByClient:function(){var e=(0,c.Z)((0,r.Z)().mark((function e(t){var n,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(s,"/moduleclient/listbyclient?id=").concat(t||" "),{method:"get",headers:(0,a.z)()});case 2:return n=e.sent,e.next=5,n.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getModuleActiveByClient:function(){var e=(0,c.Z)((0,r.Z)().mark((function e(t){var n,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(s,"/moduleclient/activeModules?id=").concat(t||" "),{method:"get",headers:(0,a.z)()});case 2:return n=e.sent,e.next=5,n.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),insertModuleClient:function(){var e=(0,c.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(s,"/moduleclient/insert"),{method:"post",headers:(0,a.z)(),body:JSON.stringify(t)});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteModuleClient:function(){var e=(0,c.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(s,"/moduleclient/delete"),{method:"delete",headers:(0,a.z)(),body:JSON.stringify(t)});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.Z=i},52548:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var r=n(94378),c=n(29439),u=n(17145),a=n(17615),s=n(72791),i=n(1413),o=n(82339),l=n(32014),d=n(68583),f=n(70084),p=n(80184),h=function(e){var t=e.clientId,n=(0,s.useState)([]),r=(0,c.Z)(n,2),u=r[0],a=r[1];(0,s.useEffect)((function(){f.Z.getModuleByClient(t).then((function(e){a(e.map((function(e){return{id:e.id,clientId:e.clientId,moduleName:e.module.description,moduleId:e.module.id,moduleStatus:e.module.state,checked:e.state,status:e.state}})))}))}),[t]);var h=(0,s.useMemo)((function(){return[{title:"Nombre",dataIndex:"moduleName",key:"name"},{title:"Modulo asociado",dataIndex:"status",key:"status",render:function(e){return e?(0,p.jsx)(o.Z,{color:"green",children:"Activo"}):(0,p.jsx)(o.Z,{color:"red",children:"Inactivo"})}},{title:"Acci\xf3n",dataIndex:"action",render:function(e,t){return(0,p.jsx)(l.Z,{checked:null===t||void 0===t?void 0:t.status,onChange:function(){t.status?f.Z.deleteModuleClient({clientId:t.clientId,moduleId:t.moduleId,state:!t.status}).then((function(e){a((function(e){return e.map((function(e){return e.id===t.id?(0,i.Z)((0,i.Z)({},e),{},{status:!e.status}):e}))}))})):f.Z.insertModuleClient({clientId:t.clientId,moduleId:t.moduleId,state:!t.status}).then((function(e){a((function(e){return e.map((function(e){return e.id===t.id?(0,i.Z)((0,i.Z)({},e),{},{status:!e.status}):e}))}))}))}})}}]}),[u]);return(0,p.jsx)("div",{children:(0,p.jsx)(d.Z,{dataSource:u,columns:h,bordered:!0,size:"middle",pagination:!1})})},m=n(82663),Z=function(){var e=(0,s.useState)([]),t=(0,c.Z)(e,2),n=t[0],r=t[1],i=(0,s.useState)(""),o=(0,c.Z)(i,2),l=o[0],d=o[1],f=(0,s.useState)([]),Z=(0,c.Z)(f,2),v=(Z[0],Z[1],u.Z.Option);(0,s.useEffect)((function(){m.Z.getAllClients().then((function(e){r(e)}))}),[l]);var x=a.Z.useForm(),j=(0,c.Z)(x,1)[0];return(0,p.jsx)("div",{children:(0,p.jsxs)(a.Z,{form:j,size:"middle",labelCol:{span:6},wrapperCol:{span:16},style:{marginLeft:"20%"},children:[(0,p.jsx)(a.Z.Item,{children:(0,p.jsx)(u.Z,{placeholder:"Seleccione un cliente",onChange:function(e){d(e)},children:n.map((function(e,t){return(0,p.jsx)(v,{value:e.id,children:e.name},t)}))})}),(0,p.jsx)(a.Z.Item,{children:(0,p.jsx)(h,{clientId:l})})]})})},v=n(27550),x=function(){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(v.Z,{title:"M\xf3dulos",items:[{title:"Home",path:"/"},{title:"Administracion"},{title:"M\xf3dulos"}]}),(0,p.jsx)(r.Z,{children:(0,p.jsx)(Z,{})})]})}}}]);
//# sourceMappingURL=548.c873c1bd.chunk.js.map