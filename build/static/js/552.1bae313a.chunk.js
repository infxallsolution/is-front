"use strict";(self.webpackChunkemilus=self.webpackChunkemilus||[]).push([[552],{27550:function(e,t,n){var r,a=n(30168),c=n(52554),i=n(32323),s=n(52672),o=n(6443),u=(n(72791),n(80184));t.Z=function(e){var t=e.title,n=e.items;return(0,u.jsxs)("div",{css:(0,c.iv)(r||(r=(0,a.Z)(["\n        align-items: center;\n        margin-bottom: 1rem;\n\n        @media "," {\n          display: flex;\n        }\n      "])),o.qk.LAPTOP_ABOVE),children:[(0,u.jsx)("h3",{className:"mb-0 mr-3 font-weight-semibold",children:(0,u.jsx)(s.Z,{id:t})}),(0,u.jsx)(i.Z,{items:n})]})}},52672:function(e,t,n){n(72791);var r=n(33168),a=n(80184);t.Z=function(e){var t=e.id,n=e.fallback,c=(0,(0,r.$)().t)(t,n);return(0,a.jsx)(a.Fragment,{children:c})}},59343:function(e,t,n){n.d(t,{z:function(){return a}});var r=n(27019),a=function(){var e=localStorage.getItem(r.U);return e?{Authorization:"Bearer ".concat(e),"Content-type":"application/json"}:{}}},82663:function(e,t,n){var r=n(74165),a=n(15861),c=n(32659),i=n(59343),s=c.O.API_ENDPOINT_URL,o={getAllClients:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(s,"/client/list"),{headers:(0,i.z)()});case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getClient:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(s,"/client/get/").concat(t),{headers:(0,i.z)()});case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),insertClient:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(s,"/client/insert"),{method:"POST",headers:(0,i.z)(),body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateClient:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(s,"/client/update/").concat(n),{method:"PUT",headers:(0,i.z)(),body:JSON.stringify(t)});case 2:return a=e.sent,e.next=5,a.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),enableClient:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(s,"/client/enableClient/").concat(t),{method:"PUT",headers:(0,i.z)()});case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),disableClient:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(s,"/client/disableclient/").concat(t),{method:"DELETE",headers:(0,i.z)()});case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.Z=o},87145:function(e,t,n){n.d(t,{Vp:function(){return r},vU:function(){return a}});var r=function(e,t){var n=t.content;e.open({type:"success",content:"".concat(n)})},a=function(e,t){var n=t.content;e.open({type:"error",content:"".concat(n)})}},28552:function(e,t,n){n.r(t),n.d(t,{default:function(){return I}});var r=n(1413),a=n(29439),c=n(82339),i=n(94378),s=n(54237),o=n(46988),u=n(34664),l=n(68583),d=n(72791),f=n(92835),p=n(11730),h=n(80184),m=function(e){var t=e.onSearch,n=e.isLoading,r=e.placeholder;return(0,h.jsx)("div",{style:{marginBottom:"15px"},children:(0,h.jsx)(f.Z.Search,{placeholder:r,enterButton:(0,h.jsx)(p.Z,{}),onChange:function(e){return t(e.target.value)},loading:n})})},v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},x=n(54291),Z=function(e,t){return d.createElement(x.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:v}))};Z.displayName="EditOutlined";var y=d.forwardRef(Z),g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},j=function(e,t){return d.createElement(x.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:g}))};j.displayName="DeleteOutlined";var b=d.forwardRef(j),C=n(82663),k=n(57689),w=function(e){var t=e.data,n=e.enableClient,r=e.disableClient,c=(0,k.s0)(),i=o.ZP.useMessage(),f=(0,a.Z)(i,2),p=f[0],v=f[1],x=(0,d.useState)([]),Z=(0,a.Z)(x,2),g=Z[0],j=Z[1],C=(0,d.useMemo)((function(){return[{key:"name",title:"Nombre",dataIndex:"name"},{key:"identification",title:"Identificaci\xf3n",dataIndex:"identification"},{key:"email",title:"Correo",dataIndex:"email"},{key:"contact",title:"N\xfamero de contacto",dataIndex:"contact"},{key:"address",title:"Direcci\xf3n",dataIndex:"address"},{key:"type",title:"Tipo de Negocio",dataIndex:"type"},{key:"state",title:"Estado",dataIndex:"state"},{key:"actions",title:"Acciones",dataIndex:"actions",render:function(e,t){return(0,h.jsx)(h.Fragment,{children:"Activo"===t.state.props.children?(0,h.jsxs)("div",{children:[(0,h.jsx)(s.ZP,{type:"primary",shape:"circle",icon:(0,h.jsx)(y,{}),style:{marginRight:"5px"},onClick:function(){return c("/app/admin/clients/register/".concat(t.id,"?action=edit"))}}),(0,h.jsx)(s.ZP,{type:"primary",danger:!0,shape:"circle",icon:(0,h.jsx)(b,{}),onClick:function(){return r(t.id,p)}})]}):(0,h.jsx)(s.ZP,{type:"primary",onClick:function(){return n(t.id,p)},children:"Activar"})})}}]}),[t]);(0,d.useEffect)((function(){w("")}),[t]);var w=function(e){j(t.filter((function(t){return t.name.toLowerCase().includes(e.toLocaleLowerCase())})))};return(0,h.jsxs)("div",{children:[v,(0,h.jsx)(m,{onSearch:w,placeholder:"Escriba para buscar un cliente"}),0===g.length?(0,h.jsx)(u.Z,{description:!1}):(0,h.jsx)(l.Z,{columns:C,dataSource:g,size:"middle"})]})},z=n(27550),E=n(87145),I=function(){var e=(0,k.s0)(),t=(0,d.useState)([]),n=(0,a.Z)(t,2),o=n[0],u=n[1],l=(0,d.useState)(!1),f=(0,a.Z)(l,2),p=f[0],m=f[1];return(0,d.useEffect)((function(){C.Z.getAllClients().then((function(e){u(e.map((function(e){return(0,r.Z)((0,r.Z)({},e),{},{state:e.state?(0,h.jsx)(c.Z,{color:"green",children:"Activo"}):(0,h.jsx)(c.Z,{color:"red",children:"Inactivo"})})})))})),m(!1)}),[p]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(z.Z,{title:"Clientes",items:[{title:"Home",path:"/"},{title:"Administracion"},{title:"Clientes"}]}),(0,h.jsxs)(i.Z,{children:[(0,h.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"20px"},children:(0,h.jsx)(s.ZP,{type:"primary",style:{marginRight:"10px"},onClick:function(){return e("/app/admin/clients/register")},children:"Agregar Cliente"})}),(0,h.jsx)(w,{data:o,enableClient:function(e,t){C.Z.enableClient(e).then((function(e){200===e.status?(m(!p),(0,E.Vp)(t,{content:"Cliente habilitado correctamente"})):(0,E.vU)(t,{content:"Error al habilitar el cliente"})}))},disableClient:function(e,t){C.Z.disableClient(e).then((function(e){200===e.status?(m(!p),(0,E.Vp)(t,{content:"Cliente deshabilitado correctamente"})):(0,E.vU)(t,{content:"Error al deshabilitar el cliente"})}))}})]})]})}}}]);
//# sourceMappingURL=552.1bae313a.chunk.js.map